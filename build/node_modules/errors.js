
// Require

var Tools = require('helpers');


// Properties

var errorLevel = { shell : true, console: false, dom: false };


// Methods

function setErrorLevels (options) {

    for (var k in options) {
        errorLevel[k] = options[k];
    }

}

function report (errorText) {

    var response = "/* BUILD ERROR: */ ";

    if (errorLevel.shell) {
        console.error("Error occurred, forwarding to browser console...\n  " + errorText);
    }

    if (errorLevel.console) {
        response += '(function () { console.error("' + Tools.escapeJs(errorText) + '"); }());\n';
    }

    if (errorsLevel.dom) {
        response += '(function () { if (ErrorBox) { ErrorBox.addItem("' + Tools.escapeJs(errorText) + '"); } }())\n';
    }

    return response + '\n';

}


// Facade

module.exports = {

    setLevels : setErrorLevels,
    report : report

}

